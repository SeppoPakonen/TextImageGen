txt2png â€” Convert each line of a text file into a transparent PNG

Build:
  g++ -std=gnu++17 -O2 -Wall -Wextra -o txt2png txt2png.cpp

Requirements:
  - Linux/Unix shell.
  - ImageMagick CLI in PATH (either 'magick' or legacy 'convert').
  - Fontconfig recommended (for font discovery via fc-list).

Usage:
  ./txt2png --input lines.txt [options]

Key options:
  --prefix STR            Output file prefix. Files are "<prefix><N>.png".
  --start-index N         First line number to use in filenames (default 1).
  --font NAME             Font family/name (e.g., "DejaVu Sans").
  --font-index N          Choose font by 1-based index from --list-fonts.
  --size N                Point size (default 64).
  --color HEX             Text fill color (default #FFFFFF).
  --outline-color HEX     Outline (stroke) color (default #000000).
  --outline N             Outline thickness in pixels (default 4).
  --list-fonts            Print available fonts and exit.
  --outline-method M      'stroke' (default) or 'offset' (slow halo).
  --offset-directions N   Angular duplicates for 'offset' (default 36).
  --dry-run               Print ImageMagick commands but don't execute.

Examples:
  # 1) DejaVu Sans, white on black outline, 64pt, files 'lyrics-<n>.png'
  ./txt2png --input lyrics.txt --prefix lyrics- --font "DejaVu Sans" \
            --size 64 --color "#FFFFFF" --outline-color "#000000" --outline 6

  # 2) Pick font by index after listing:
  ./txt2png --list-fonts | less
  ./txt2png --input lines.txt --font-index 7 --size 48 --prefix line-

  # 3) Preview commands first:
  ./txt2png --input lines.txt --dry-run --prefix out- --font "Liberation Sans"

Notes:
  * The output uses PNG32 with full alpha (transparent background).
  * The 'stroke' method uses ImageMagick's native outline and is fastest.
  * The 'offset' method fakes the outline by drawing many shifted copies;
    it's included because sometimes "cheap and cheerful" is exactly right.
  * Empty lines are skipped but still advance the index counter.
